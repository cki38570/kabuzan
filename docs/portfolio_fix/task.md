# タスク: ポートフォリオ追加機能の不具合修正

ポートフォリオに平均取得単価と株数を入力して追加しても、スプレッドシートに反映されず、ページがリセットされる不具合を修正する。

## 調査
- [x] `app.py` のポートフォリオ追加UIの実装を確認する
- [x] `modules/portfolio.py` と `modules/storage.py` のデータ保存ロジックを確認する
- [x] ページがリセットされる原因（Streamlitの状態管理やエラー）を特定する

## 実装
- [x] ポートフォリオ追加時の状態保持（`st.session_state`）を改善する
- [x] スプレッドシートへの保存処理の不具合を修正する
- [x] エラーハンドリングを追加し、正しくフィードバックを表示するようにする

## 検証
- [x] ポートフォリオが正しく追加されることを確認する
- [x] 追加後にページがリセットされないことを確認する
- [x] スプレッドシートにデータが反映されていることを確認する

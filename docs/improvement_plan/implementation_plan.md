# アプリ改善計画：精度と信頼性の極大化

評価レポートで特定された「バックテストの楽観性」と「更なるデータの深掘り」を解決するための具体的な改善案です。

## 1. バックテストの正確性向上 (Look-ahead Biasの排除)
現在、バックテストは「現在最新の指値データ」を過去全期間に適用してしまっています。
- **改善点**: 過去30日の各時点において、その時のインジケーター（その日のSMAやBB）を再計算し、その時点での仮想エントリー・決済判定を行う「ローリング・バックテスト」に刷新します。
- **効果**: 実際の運用に近い、シビアで現実的な勝率が算出されるようになります。

## 2. AI分析の多角化 (マルチタイムフレーム分析)
現在は「日足」が中心ですが、中長期的なトレンドを見落とすリスクがあります。
- **改善点**: 週足のテクニカル指標（週足RSI、13/26週移動平均など）をAIへのプロンプトに追加します。
- **効果**: 「日足では買いだが、週足では長期抵抗線にぶつかっている」といった、より高度な判断が可能になります。

## 3. 分析の透明性と自信度の導入
AIがどの程度データに確信を持っているかを可視化します。
- **改善点**: 
  - プロンプトに「Confidence Score (確信度)」の項目を追加。
  - 使用したデータの鮮度（ yfinanceからの最新値か、キャッシュか）を明示。
- **効果**: ユーザーがAIの言葉を鵜呑みにせず、リスクを適切に判断できるようになります。

## 4. セクター相関分析の強化
個別株の動きだけでなく、そのセクター全体の動きとの比較を強化します。
- **改善点**: 現在の「日経平均との比較」に加え、「同業種（セクター）内での相対的な強さ」を計算してAIに渡します。
- **効果**: 「業界全体が売られている中での独自の底堅さ」などをAIが発見できるようになります。

---

## 優先順位
1. **バックテストの刷新** (正確性の根幹)
2. **マルチタイムフレームの統合** (分析の深み)
3. **自信度の表示** (ユーザーへの透明性)
